---
import { getCollection } from "astro:content";

const posts = (await getCollection('blog')).sort(
	(a, b) => b.data.publishDate.valueOf() - a.data.publishDate.valueOf()
)
---

<section class='w-full h-full flex flex-col items-center justify-center my-8 px-6 md:px-48 mb-28'>
  <h2 class='text-4xl md:text-6xl lg:text-8xl xl:text-9xl font-mona-sans [font-stretch:ultra-expanded] font-bold w-full'>Ãšltimas Publicaciones</h2>
  <div class='divider'></div>
  {
  posts.slice(0, 3).map(post => (
    <a href={`/blog/${post.slug}/`} class='flex flex-col items-start gap-10 justify-center w-full h-full'>
      <article class='bg-base-200 py-6 px-10 rounded-lg w-full my-3 font-mona-sans [font-stretch:ultra-expanded] text-primary shadow-none hover:shadow-current ease-in-out transition-all duration-700 hover:shadow-lg'>
        <p class='text-2xl font-extrabold max-w-xl leading-none'>{post.data.title}</p>
        <p class='text-primary/80 max-w-2xl pt-2'>{post.data.description}</p>
      </article>
    </a>
  ))
  }
  <div class='w-full flex items-end justify-end'>
    <a href='/blog/' class='btn btn-md btn-base-100 duration-700'>todas las publicaciones</a>
  </div>
</section>
