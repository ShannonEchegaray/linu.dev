---
import BlogCardIndex from '@components/blog/BlogCardIndex.astro'

import { getCollection } from "astro:content";

const posts = (await getCollection('blog')).sort(
	(a, b) => b.data.publishDate.valueOf() - a.data.publishDate.valueOf()
)
---

<section class='w-full h-full flex flex-col items-center justify-center my-8 px-6 md:px-48 mb-28 2xl:mx-auto 2xl:max-w-7xl'>
  <h2 class='text-4xl md:text-6xl lg:text-8xl xl:text-9xl font-mona-sans [font-stretch:ultra-expanded] font-bold w-full'>Ãšltimas Publicaciones</h2>
  <div class='divider'></div>
  {
  posts.slice(0, 3).map(post => (
		<BlogCardIndex
		  title={post.data.title}
			publishDate={post.data.publishDate}
			description={post.data.description}
			url={`/blog/${post.slug}`}
			tags={post.data.tags}
		/>
  ))
  }
  <div class='w-full flex items-end justify-end mt-8'>
    <a href='/blog/' class='btn btn-md btn-primary duration-700'>todas las publicaciones</a>
  </div>
</section>
